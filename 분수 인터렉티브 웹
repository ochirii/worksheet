<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¶„ëª¨ ë¶„ì ê°œë… í•™ìŠµ</title>
    <style>
        /* === CSS ìŠ¤íƒ€ì¼ ì‹œì‘ === */
        :root {
            --primary-color: #007bff; /* íŒŒë€ìƒ‰ ê³„ì—´ */
            --secondary-color: #6c757d; /* íšŒìƒ‰ ê³„ì—´ */
            --success-color: #28a745; /* ì´ˆë¡ìƒ‰ */
            --danger-color: #dc3545; /* ë¹¨ê°„ìƒ‰ */
            --warning-color: #ffc107; /* ë…¸ë€ìƒ‰ */
            --light-bg: #f8f9fa; /* ë°ì€ ë°°ê²½ìƒ‰ */
            --border-color: #dee2e6; /* í…Œë‘ë¦¬ ìƒ‰ */
            --shaded-color: #a9d0ff; /* ì±„ì›Œì§„ ë¶€ë¶„ ìƒ‰ */
            --font-family: 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', sans-serif;
        }

        body {
            font-family: var(--font-family);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #eef5ff; /* ì—°í•œ íŒŒë€ ë°°ê²½ */
            margin: 0;
            padding: 20px 0;
        }

        .container {
            background-color: #ffffff;
            padding: 30px 40px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            text-align: center;
            width: 90%;
            max-width: 600px; /* ìµœëŒ€ ë„ˆë¹„ ì¡°ì • */
        }

        h1 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        
        h2 {
            color: var(--secondary-color);
            font-size: 1.2em;
            margin-bottom: 25px;
            font-weight: normal;
        }

        .problem-area {
            margin-bottom: 30px;
            padding: 20px;
            background-color: var(--light-bg);
            border: 1px solid var(--border-color);
            border-radius: 10px;
        }

        .instruction {
             margin-bottom: 20px;
             font-size: 1.1em;
             color: #333;
        }

        /* ë¶„ìˆ˜ ì‹œê°í™” ì˜ì—­ */
        .fraction-visual-container {
            width: 80%; /* ë„ˆë¹„ ì¡°ì • */
            max-width: 400px; /* ìµœëŒ€ ë„ˆë¹„ */
            height: 50px; /* ë†’ì´ ê³ ì • */
            border: 2px solid var(--secondary-color);
            margin: 0 auto 25px auto; /* ê°€ìš´ë° ì •ë ¬ ë° í•˜ë‹¨ ì—¬ë°± */
            display: flex; /* ë‚´ë¶€ ìš”ì†Œë¥¼ ê°€ë¡œë¡œ ë°°ì—´ */
            overflow: hidden; /* ë„˜ì¹˜ëŠ” ë¶€ë¶„ ìˆ¨ê¹€ */
            border-radius: 5px; /* ì•½ê°„ ë‘¥ê¸€ê²Œ */
        }

        .fraction-part {
            flex-grow: 1; /* ê° ë¶€ë¶„ì´ ë™ì¼í•œ ë„ˆë¹„ë¥¼ ê°€ì§€ë„ë¡ í•¨ */
            height: 100%;
            border-right: 1px dashed var(--secondary-color); /* ê° ë¶€ë¶„ì„ êµ¬ë¶„í•˜ëŠ” ì ì„  */
            box-sizing: border-box; /* í…Œë‘ë¦¬ë¥¼ í¬í•¨í•˜ì—¬ í¬ê¸° ê³„ì‚° */
            transition: background-color 0.3s ease; /* ë¶€ë“œëŸ¬ìš´ ìƒ‰ìƒ ë³€í™” */
        }

        .fraction-part:last-child {
            border-right: none; /* ë§ˆì§€ë§‰ ë¶€ë¶„ì€ ì˜¤ë¥¸ìª½ í…Œë‘ë¦¬ ì—†ìŒ */
        }

        .fraction-part.shaded {
            background-color: var(--shaded-color); /* ì±„ì›Œì§„ ë¶€ë¶„ ìƒ‰ìƒ */
        }

        /* ì…ë ¥ ì˜ì—­ */
        .input-area {
            display: flex;
            flex-direction: column; /* ì„¸ë¡œë¡œ ë°°ì¹˜ */
            align-items: center; /* ê°€ìš´ë° ì •ë ¬ */
            margin-bottom: 30px;
        }
        
        .fraction-input-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .input-group {
            display: flex;
            align-items: center;
            margin: 8px 0; /* ìœ„ì•„ë˜ ì—¬ë°± */
        }

        .input-group label {
            font-size: 1.1em;
            width: 50px; /* ë¼ë²¨ ë„ˆë¹„ ê³ ì • */
            text-align: right;
            margin-right: 10px;
            color: #555;
        }

        .input-group input[type="number"] {
            width: 70px; /* ì…ë ¥ í•„ë“œ ë„ˆë¹„ */
            padding: 10px;
            font-size: 1.2em;
            text-align: center;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
            -moz-appearance: textfield;
        }
        .input-group input[type="number"]::-webkit-outer-spin-button,
        .input-group input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        .fraction-line {
            width: 80px; /* ë¶„ìˆ˜ ì„  ë„ˆë¹„ */
            height: 3px; /* ë¶„ìˆ˜ ì„  ë‘ê»˜ */
            background-color: var(--secondary-color);
            margin: 2px 0; /* ìœ„ì•„ë˜ ì•½ê°„ì˜ ì—¬ë°± */
            border-radius: 2px;
        }

        /* ë²„íŠ¼ ì˜ì—­ */
        .button-area {
            margin-bottom: 25px;
        }

        button {
            padding: 12px 25px;
            font-size: 1.1em;
            font-weight: bold;
            color: white;
            background-color: var(--success-color);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin: 5px 10px;
            transition: background-color 0.3s ease, transform 0.1s ease;
        }

        button:hover {
            opacity: 0.9;
        }

        button:active {
            transform: scale(0.97);
        }

        #new-button {
            background-color: var(--warning-color);
            color: #333; /* ì£¼í™©ìƒ‰ ë°°ê²½ì— ì–´ë‘ìš´ ê¸€ì”¨ */
        }

        /* í”¼ë“œë°± ì˜ì—­ */
        .feedback {
            margin-top: 20px;
            font-size: 1.15em;
            font-weight: bold;
            min-height: 40px; /* ìµœì†Œ ë†’ì´ í™•ë³´ */
            padding: 15px;
            border-radius: 8px;
            line-height: 1.5; /* ì¤„ ê°„ê²© */
            display: none; /* ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ */
        }

        .feedback.correct {
            color: var(--success-color);
            background-color: #e9f7ef;
            border: 1px solid #c3e6cb;
            display: block; /* ë³´ì´ê¸° */
        }

        .feedback.incorrect {
            color: var(--danger-color);
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            display: block; /* ë³´ì´ê¸° */
        }
        
         .feedback.info {
            color: #0c5460;
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            display: block; /* ë³´ì´ê¸° */
        }

        /* ë¯¸ë””ì–´ ì¿¼ë¦¬: ì‘ì€ í™”ë©´ ëŒ€ì‘ */
        @media (max-width: 480px) {
            .container {
                padding: 20px 15px;
            }
            h1 {
                font-size: 1.6em;
            }
            h2 {
                font-size: 1.1em;
            }
            .fraction-visual-container {
                width: 95%;
                height: 40px;
            }
             .input-group label {
                width: 40px;
                font-size: 1em;
            }
            .input-group input[type="number"] {
                width: 60px;
                font-size: 1.1em;
            }
             .button-area button {
                 padding: 10px 20px;
                 font-size: 1em;
            }
            .feedback {
                font-size: 1.05em;
            }
        }
        /* === CSS ìŠ¤íƒ€ì¼ ë === */
    </style>
</head>
<body>
    <div class="container">
        <h1>ë¶„ìˆ˜ ì¹œêµ¬ë“¤: ë¶„ëª¨ì™€ ë¶„ì</h1>
        <h2>ì „ì²´ë¥¼ ë˜‘ê°™ì´ ë‚˜ëˆˆ ê²ƒ ì¤‘ ëª‡ ê°œì¸ì§€ ì•Œì•„ë´ìš”!</h2>

        <div class="problem-area">
            <p class="instruction">ì•„ë˜ ê·¸ë¦¼ì´ ë‚˜íƒ€ë‚´ëŠ” ë¶„ìˆ˜ë¥¼ ì…ë ¥í•´ë³´ì„¸ìš”.</p>
            <div id="fraction-visual" class="fraction-visual-container">
                </div>
        </div>

        <div class="input-area">
             <div class="fraction-input-wrapper">
                <div class="input-group">
                    <label for="numerator">ë¶„ì:</label>
                    <input type="number" id="numerator" min="0" inputmode="numeric" pattern="[0-9]*">
                </div>
                <div class="fraction-line"></div>
                <div class="input-group">
                    <label for="denominator">ë¶„ëª¨:</label>
                    <input type="number" id="denominator" min="1" inputmode="numeric" pattern="[0-9]*">
                </div>
            </div>
        </div>

        <div class="button-area">
            <button id="check-button">ì •ë‹µ í™•ì¸!</button>
            <button id="new-button">ìƒˆ ë¬¸ì œ</button>
        </div>

        <div id="feedback" class="feedback">
            </div>
    </div>

    <script>
        // === JavaScript ì‹œì‘ ===

        // HTML ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
        const fractionVisual = document.getElementById('fraction-visual');
        const numeratorInput = document.getElementById('numerator');
        const denominatorInput = document.getElementById('denominator');
        const checkButton = document.getElementById('check-button');
        const newButton = document.getElementById('new-button');
        const feedbackDiv = document.getElementById('feedback');

        let currentNumerator = 0;
        let currentDenominator = 0;

        // ìƒˆ ë¬¸ì œ ìƒì„± í•¨ìˆ˜
        function generateNewProblem() {
            // ë¶„ëª¨ ìƒì„± (2 ~ 10 ì‚¬ì´ì˜ ë¬´ì‘ìœ„ ì •ìˆ˜)
            currentDenominator = Math.floor(Math.random() * 9) + 2;
            // ë¶„ì ìƒì„± (1 ~ ë¶„ëª¨ ì‚¬ì´ì˜ ë¬´ì‘ìœ„ ì •ìˆ˜)
            currentNumerator = Math.floor(Math.random() * currentDenominator) + 1;

            // ì‹œê°í™” ì—…ë°ì´íŠ¸
            updateFractionVisual();

            // ì…ë ¥ í•„ë“œ ë° í”¼ë“œë°± ì´ˆê¸°í™”
            numeratorInput.value = '';
            denominatorInput.value = '';
            feedbackDiv.textContent = '';
            feedbackDiv.className = 'feedback'; // í´ë˜ìŠ¤ ë¦¬ì…‹ (ìˆ¨ê¹€ ìƒíƒœë¡œ)
            feedbackDiv.style.display = 'none'; // í™•ì‹¤íˆ ìˆ¨ê¹€ ì²˜ë¦¬

            // ë¶„ì ì…ë ¥ í•„ë“œì— í¬ì»¤ìŠ¤
            numeratorInput.focus();
        }

        // ë¶„ìˆ˜ ì‹œê°í™” ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateFractionVisual() {
            fractionVisual.innerHTML = ''; // ì´ì „ ì‹œê°í™” ë‚´ìš© ì‚­ì œ

            for (let i = 0; i < currentDenominator; i++) {
                const part = document.createElement('div');
                part.classList.add('fraction-part');
                // iê°€ (í˜„ì¬ ë¶„ì - 1) ë³´ë‹¤ ì‘ìœ¼ë©´ ìƒ‰ì¹ 
                if (i < currentNumerator) {
                    part.classList.add('shaded');
                }
                fractionVisual.appendChild(part);
            }
        }

        // ì •ë‹µ í™•ì¸ í•¨ìˆ˜
        function checkAnswer() {
            // ì‚¬ìš©ì ì…ë ¥ ê°’ ê°€ì ¸ì˜¤ê¸°
            const userNumeratorStr = numeratorInput.value.trim();
            const userDenominatorStr = denominatorInput.value.trim();

            // ì…ë ¥ ê°’ ìœ íš¨ì„± ê²€ì‚¬ (ë¹ˆì¹¸ í™•ì¸)
            if (userNumeratorStr === '' || userDenominatorStr === '') {
                 feedbackDiv.textContent = 'âš ï¸ ë¶„ìì™€ ë¶„ëª¨ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”!';
                 feedbackDiv.className = 'feedback info'; // ì •ë³´ í”¼ë“œë°± ìŠ¤íƒ€ì¼
                 feedbackDiv.style.display = 'block';
                 return;
            }
            
            const userNumerator = parseInt(userNumeratorStr);
            const userDenominator = parseInt(userDenominatorStr);

            // ì…ë ¥ ê°’ ìœ íš¨ì„± ê²€ì‚¬ (ìˆ«ì í™•ì¸ ë° ë¶„ëª¨ 0 í™•ì¸)
            if (isNaN(userNumerator) || isNaN(userDenominator)) {
                 feedbackDiv.textContent = 'âš ï¸ ìˆ«ìë¥¼ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”!';
                 feedbackDiv.className = 'feedback info';
                 feedbackDiv.style.display = 'block';
                 return;
            }
            if (userDenominator === 0) {
                feedbackDiv.textContent = 'âš ï¸ ë¶„ëª¨ëŠ” 0ì´ ë  ìˆ˜ ì—†ì–´ìš”!';
                feedbackDiv.className = 'feedback info';
                feedbackDiv.style.display = 'block';
                denominatorInput.focus(); // ë¶„ëª¨ ì…ë ¥ì¹¸ìœ¼ë¡œ í¬ì»¤ìŠ¤ ì´ë™
                return;
            }
             if (userDenominator < 1) {
                feedbackDiv.textContent = 'âš ï¸ ë¶„ëª¨ëŠ” 1ë³´ë‹¤ ì‘ì„ ìˆ˜ ì—†ì–´ìš”!';
                feedbackDiv.className = 'feedback info';
                feedbackDiv.style.display = 'block';
                denominatorInput.focus(); 
                return;
            }


            // ì •ë‹µ ë¹„êµ
            if (userNumerator === currentNumerator && userDenominator === currentDenominator) {
                feedbackDiv.textContent = `ë”©ë™ëŒ•! ğŸ‰ ì •ë‹µì…ë‹ˆë‹¤! ${currentDenominator}ê°œë¡œ ë˜‘ê°™ì´ ë‚˜ëˆˆ ê²ƒ ì¤‘ ${currentNumerator}ê°œë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë¶„ìˆ˜ëŠ” ${currentDenominator}ë¶„ì˜ ${currentNumerator} (${currentNumerator}/${currentDenominator}) ë§ì•„ìš”!`;
                feedbackDiv.className = 'feedback correct';
            } else {
                feedbackDiv.textContent = `ì•„ì‰¬ì›Œìš”. ğŸ¤” ê·¸ë¦¼ì€ ${currentDenominator}ê°œë¡œ ë˜‘ê°™ì´ ë‚˜ëˆˆ ê²ƒ ì¤‘ ${currentNumerator}ê°œë¥¼ ìƒ‰ì¹ í–ˆì–´ìš”. ë”°ë¼ì„œ ì •ë‹µì€ ${currentDenominator}ë¶„ì˜ ${currentNumerator} (${currentNumerator}/${currentDenominator}) ì…ë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”!`;
                feedbackDiv.className = 'feedback incorrect';
            }
            feedbackDiv.style.display = 'block'; // í”¼ë“œë°± ë³´ì´ê¸°
        }

        // --- ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì • ---

        // 'ì •ë‹µ í™•ì¸!' ë²„íŠ¼ í´ë¦­ ì‹œ checkAnswer í•¨ìˆ˜ ì‹¤í–‰
        checkButton.addEventListener('click', checkAnswer);

        // 'ìƒˆ ë¬¸ì œ' ë²„íŠ¼ í´ë¦­ ì‹œ generateNewProblem í•¨ìˆ˜ ì‹¤í–‰
        newButton.addEventListener('click', generateNewProblem);

        // Enter í‚¤ ì…ë ¥ ì‹œ ì •ë‹µ í™•ì¸ (ë¶„ëª¨ ì…ë ¥ ì¹¸ì—ì„œ)
        denominatorInput.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                 event.preventDefault(); // ê¸°ë³¸ ë™ì‘(í¼ ì œì¶œ ë“±) ë°©ì§€
                 checkAnswer();
            }
        });
         // Enter í‚¤ ì…ë ¥ ì‹œ ì •ë‹µ í™•ì¸ (ë¶„ì ì…ë ¥ ì¹¸ì—ì„œ) - ë¶„ëª¨ë¡œ í¬ì»¤ìŠ¤ ì´ë™ ë˜ëŠ” ë°”ë¡œ í™•ì¸
         numeratorInput.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                 event.preventDefault(); 
                 denominatorInput.focus(); // ë¶„ëª¨ ì¹¸ìœ¼ë¡œ ì´ë™
                 // ë˜ëŠ” ì—¬ê¸°ì„œ ë°”ë¡œ checkAnswer()ë¥¼ í˜¸ì¶œí•´ë„ ë¨
                 // checkAnswer(); 
            }
        });

        // --- í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™” ---
        // í˜ì´ì§€ê°€ ì²˜ìŒ ë¡œë“œë  ë•Œ ìƒˆ ë¬¸ì œë¥¼ ìƒì„±í•˜ì—¬ ë³´ì—¬ì¤Œ
        generateNewProblem();

        // === JavaScript ë ===
    </script>
</body>
</html>
